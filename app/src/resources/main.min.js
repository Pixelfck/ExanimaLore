const CopyID=function(){function e(){}return Object.assign(e.prototype,{init:function(){navigator.clipboard&&this.loadCopyIdStylesheet()},loadCopyIdStylesheet:function(){const e=document.createElement("link");e.rel="stylesheet",e.href="resources/copyId.min.css",e.addEventListener("load",(()=>{this.addCopyIcons(),this.addEventListeners()}),{once:!0});const t=document.querySelectorAll('link[rel="stylesheet"]');t[t.length-1].after(e)},addCopyIcons:function(){document.querySelectorAll("tr[id] td:first-child").forEach((e=>{const t=document.createElement("div");t.classList.add("svg-icon","svg-icon--copy"),e.appendChild(t)}));const e=document.createElement("div");e.classList.add("copy-message"),e.innerHTML="URL copied to clipboard.",document.body.appendChild(e)},addEventListeners:function(){document.querySelectorAll(".svg-icon--copy").forEach((e=>{e.addEventListener("click",(e=>this.onClick(e)))}))},onClick:function(e){this.copyIdToClipboard(e.target.closest("tr"))},copyIdToClipboard:function(e){if(!e.id)return;let t=document.location.href;document.location.hash&&(t=t.substring(0,t.length-document.location.hash.length)),t+="#"+e.id,navigator.clipboard.writeText(t).then((()=>{this.showCopyMessage()}))},showCopyMessage:function(){document.querySelector(".copy-message").classList.add("copy-message--visible"),window.setTimeout(this.hideCopyMessage,1250)},hideCopyMessage:function(){document.querySelector(".copy-message").classList.remove("copy-message--visible")}}),e}(),DivinersDeck=function(){function e(){}return Object.assign(e.prototype,{init:function(){document.querySelectorAll(".divinersDeckCard a").forEach((e=>{e.addEventListener("click",(e=>this.onCardClick(e)))}))},onCardClick:function(e){let t;e.preventDefault();let n=document.getElementById("DivinersDeckCardBackSide");n===e.target?(t=n.cloneNode(!1),n=this.getRandomCardFront()):(t=e.target.cloneNode(!1),n=n.cloneNode(!1));const o=document.createElement("div");o.classList.add("card-back"),o.appendChild(n);const c=document.createElement("div");c.classList.add("card-front"),c.appendChild(t);const d=document.createElement("div");d.classList.add("card-wrapper"),d.appendChild(o),d.appendChild(c);const i=document.createElement("span");i.classList.add("visually-hidden"),i.innerText="close";const s=document.createElement("div");s.classList.add("overlay--closeBtn"),s.innerText="Ã—",s.appendChild(i);const a=document.createElement("div");a.classList.add("overlay"),a.addEventListener("click",(e=>this.onOverlayClick(e))),a.appendChild(s),a.appendChild(d),document.body.appendChild(a)},onOverlayClick:function(e){document.body.removeChild(document.querySelector(".overlay"))},getRandomCardFront:function(){const e=document.querySelectorAll(".divinersDeckCard img");return e[this.getRandomIntInclusive(1,e.length-1)].cloneNode(!1)},getRandomIntInclusive:function(e,t){const n=new Uint32Array(1);window.crypto.getRandomValues(n);const o=n[0]/4294967296;return e=Math.ceil(e),t=Math.floor(t),Math.floor(o*(t-e+1))+e}}),e}();document.addEventListener("DOMContentLoaded",(function(){(new CopyID).init(),(new DivinersDeck).init()}));
//# sourceMappingURL=main.min.js.map